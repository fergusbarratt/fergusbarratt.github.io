/*!
 * Fuse.js v3.4.6 - Lightweight fuzzy-search (http://fusejs.io)
 * 
 * Copyright (c) 2012-2017 Kirollos Risk (http://kiro.me)
 * All Rights Reserved. Apache Software License 2.0
 * 
 * http://www.apache.org/licenses/LICENSE-2.0
 */!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Fuse",[],e):"object"==typeof exports?exports.Fuse=e():t.Fuse=e()}(this,function(){return function(n){var t={};function e(s){if(t[s])return t[s].exports;var o=t[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=n,e.c=t,e.d=function(t,n,s){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:s})},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o,s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(o in t)e.d(s,o,function(e){return t[e]}.bind(null,o));return s},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",e(e.s=1)}([function(e){e.exports=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}},function(o,c,e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(s,n){for(var e,t=0;t<n.length;t++)e=n[t],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}var s=e(2),a=e(8),i=e(0),r=function(){function e(_,t){var s=t.location,P=void 0===s?0:s,i=t.distance,L=void 0===i?100:i,c=t.threshold,D=void 0===c?.6:c,d=t.maxPatternLength,T=void 0===d?32:d,h=t.caseSensitive,M=void 0!==h&&h,f=t.tokenSeparator,A=void 0===f?/ +/g:f,g=t.findAllMatches,E=void 0!==g&&g,b=t.minMatchCharLength,x=void 0===b?1:b,y=t.id,w=void 0===y?null:y,n=t.keys,O=void 0===n?[]:n,j=t.shouldSort,C=void 0===j||j,v=t.getFn,k=void 0===v?a:v,p=t.sortFn,S=void 0===p?function(e,t){return e.score-t.score}:p,m=t.tokenize,F=void 0!==m&&m,u=t.matchAllTokens,z=void 0!==u&&u,l=t.includeMatches,N=void 0!==l&&l,r=t.includeScore,R=void 0!==r&&r,o=t.verbose,H=void 0!==o&&o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:P,distance:L,threshold:D,maxPatternLength:T,isCaseSensitive:M,tokenSeparator:A,findAllMatches:E,minMatchCharLength:x,id:w,keys:O,includeMatches:N,includeScore:R,shouldSort:C,getFn:k,sortFn:S,verbose:H,tokenize:F,matchAllTokens:z},this.setCollection(_)}var o,r,c;return o=e,(r=[{key:"setCollection",value:function(e){return this.list=e,e}},{key:"search",value:function(n){t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1},this._log('---------\nSearch pattern: "'.concat(n,'"'));var t,s=this._prepareSearchers(n),i=s.tokenSearchers,a=s.fullSearcher,o=this._search(i,a),r=o.weights,e=o.results;return this._computeScore(r,e),this.options.shouldSort&&this._sort(e),t.limit&&"number"==typeof t.limit&&(e=e.slice(0,t.limit)),this._format(e)}},{key:"_prepareSearchers",value:function(){if(e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[],this.options.tokenize)for(var e,t,o=e.split(this.options.tokenSeparator),n=0,i=o.length;n<i;n+=1)t.push(new s(o[n],this.options));return{tokenSearchers:t,fullSearcher:new s(e,this.options)}}},{key:"_search",value:function(){var e,t,r,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],d=arguments.length>1?arguments[1]:void 0,n=this.list,c={},o=[];if("string"==typeof n[0]){for(t=0,r=n.length;t<r;t+=1)this._analyze({key:"",value:n[t],record:t,index:t},{resultMap:c,results:o,tokenSearchers:u,fullSearcher:d});return{weights:null,results:o}}for(var a={},s=0,h=n.length;s<h;s+=1)for(var l=n[s],i=0,m=this.options.keys.length;i<m;i+=1){if(e=this.options.keys[i],"string"!=typeof e){if(a[e.name]={weight:1-e.weight||1},e.weight<=0||e.weight>1)throw new Error("Key weight has to be > 0 and <= 1");e=e.name}else a[e]={weight:1};this._analyze({key:e,value:this.options.getFn(l,e),record:l,index:s},{resultMap:c,results:o,tokenSearchers:u,fullSearcher:d})}return{weights:a,results:o}}},{key:"_analyze",value:function(r,m){var t,s,o,u,p,g,j,y,_,w,L,l=r.key,N=r.arrayIndex,D=void 0===N?-1:N,e=r.value,z=r.record,d=r.index,T=m.tokenSearchers,h=void 0===T?[]:T,F=m.fullSearcher,M=void 0===F?[]:F,S=m.resultMap,f=void 0===S?{}:S,A=m.results,k=void 0===A?[]:A;if(null!=e){var E=!1,n=-1,x=0;if("string"==typeof e){if(this._log("\nKey: ".concat(""===l?"-":l)),t=M.search(e),this._log('Full text: "'.concat(e,'", score: ').concat(t.score)),this.options.tokenize){for(var C=e.split(this.options.tokenSeparator),a=[],O=0;O<h.length;O+=1){g=h[O],this._log('\nPattern: "'.concat(g.pattern,'"'));for(_=!1,p=0;p<C.length;p+=1){var c=C[p],v=g.search(c),b={};v.isMatch?(b[c]=v.score,E=!0,_=!0,a.push(v.score)):(b[c]=1,this.options.matchAllTokens||a.push(1)),this._log('Token: "'.concat(c,'", score: ').concat(b[c]))}_&&(x+=1)}n=a[0];for(j=a.length,u=1;u<j;u+=1)n+=a[u];n/=j,this._log("Token score average:",n)}s=t.score,n>-1&&(s=(s+n)/2),this._log("Score average:",s),y=!this.options.tokenize||!this.options.matchAllTokens||x>=h.length,(this._log("\nCheck Matches: ".concat(y)),(E||t.isMatch)&&y)&&(w=f[d],w?w.output.push({key:l,arrayIndex:D,value:e,score:s,matchedIndices:t.matchedIndices}):(f[d]={item:z,output:[{key:l,arrayIndex:D,value:e,score:s,matchedIndices:t.matchedIndices}]},k.push(f[d])))}else if(i(e))for(o=0,L=e.length;o<L;o+=1)this._analyze({key:l,arrayIndex:o,value:e[o],record:z,index:d},{resultMap:f,results:k,tokenSearchers:h,fullSearcher:M})}}},{key:"_computeScore",value:function(r,s){this._log("\n\nComputing score:\n");for(e=0,l=s.length;e<l;e+=1){for(var e,o,a,l,n=s[e].output,d=n.length,c=1,i=1,t=0;t<d;t+=1)o=r?r[n[t].key].weight:1,a=(1===o?n[t].score:n[t].score||.001)*o,1!==o?i=Math.min(i,a):(n[t].nScore=a,c*=a);s[e].score=1===i?c:i,this._log(s[e])}}},{key:"_sort",value:function(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(a){s=[],this.options.verbose&&(o=[],this._log("\n\nOutput:\n\n",JSON.stringify(a,function(n,e){if("object"===t(e)&&null!==e){if(-1!==o.indexOf(e))return;o.push(e)}return e})),o=null),n=[],this.options.includeMatches&&n.push(function(a,o){n=a.output,o.matches=[];for(var e,t,n,s=0,i=n.length;s<i;s+=1)e=n[s],0!==e.matchedIndices.length&&(t={indices:e.matchedIndices,value:e.value},e.key&&(t.key=e.key),e.hasOwnProperty("arrayIndex")&&e.arrayIndex>-1&&(t.arrayIndex=e.arrayIndex),o.matches.push(t))}),this.options.includeScore&&n.push(function(e,t){t.score=e.score});for(i=0,c=a.length;i<c;i+=1)if(e=a[i],this.options.id&&(e.item=this.options.getFn(e.item,this.options.id)[0]),n.length){for(var e,n,s,o,i,c,l={item:e.item},r=0,d=n.length;r<d;r+=1)n[r](e,l);s.push(l)}else s.push(e.item);return s}},{key:"_log",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}])&&n(o.prototype,r),c&&n(o,c),e}();o.exports=r},function(n,r,e){function t(s,n){for(var e,t=0;t<n.length;t++)e=n[t],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}var o=e(3),i=e(4),a=e(7),s=function(){function e(h,t){var s=t.location,b=void 0===s?0:s,i=t.distance,g=void 0===i?100:i,c=t.threshold,f=void 0===c?.6:c,d=t.maxPatternLength,u=void 0===d?32:d,n=t.isCaseSensitive,m=void 0!==n&&n,l=t.tokenSeparator,p=void 0===l?/ +/g:l,r=t.findAllMatches,v=void 0!==r&&r,o=t.minMatchCharLength,j=void 0===o?1:o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:b,distance:g,threshold:f,maxPatternLength:u,isCaseSensitive:m,tokenSeparator:p,findAllMatches:v,minMatchCharLength:j},this.pattern=this.options.isCaseSensitive?h:h.toLowerCase(),this.pattern.length<=u&&(this.patternAlphabet=a(this.pattern))}var n,s,r;return n=e,(s=[{key:"search",value:function(e){if(this.options.isCaseSensitive||(e=e.toLowerCase()),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};var n=this.options,s=n.maxPatternLength,a=n.tokenSeparator;if(this.pattern.length>s)return o(e,this.pattern,a);var t=this.options,r=t.location,c=t.distance,l=t.threshold,d=t.findAllMatches,u=t.minMatchCharLength;return i(e,this.pattern,this.patternAlphabet,{location:r,distance:c,threshold:l,findAllMatches:d,minMatchCharLength:u})}}])&&t(n.prototype,s),r&&t(n,r),e}();n.exports=s},function(e){var t=/[-[\]/{}()*+?.\\^$|]/g;e.exports=function(i,c){var e,n,a,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,d=new RegExp(c.replace(t,"\\$&").replace(l,"|")),s=i.match(d),o=!!s,r=[];if(o)for(e=0,a=s.length;e<a;e+=1)n=s[e],r.push([i.indexOf(n),n.length-1]);return{score:o?.5:1,isMatch:o,matchedIndices:r}}},function(n,o,t){var e=t(5),s=t(6);n.exports=function(j,i,L,u){for(var n,o,h,f,w,C,S,k=u.location,D=void 0===k?0:k,F=u.distance,m=void 0===F?100:F,M=u.threshold,T=void 0===M?.6:M,A=u.findAllMatches,N=void 0!==A&&A,E=u.minMatchCharLength,R=void 0===E?1:E,t=D,v=j.length,r=T,a=j.indexOf(i,t),d=i.length,y=[],_=0;_<v;_+=1)y[_]=0;-1!==a&&(S=e(i,{errors:0,currentLocation:a,expectedLocation:t,distance:m}),(r=Math.min(S,r),-1!==(a=j.lastIndexOf(i,t+d)))&&(C=e(i,{errors:0,currentLocation:a,expectedLocation:t,distance:m}),r=Math.min(C,r))),a=-1;for(var g=[],p=1,b=d+v,z=1<<(d<=31?d-1:30),c=0;c<d;c+=1){for(h=0,o=b;h<o;)e(i,{errors:c,currentLocation:t+o,expectedLocation:t,distance:m})<=r?h=o:b=o,o=Math.floor((b-h)/2+h);var b=o,x=Math.max(1,t-o+1),O=N?v:Math.min(t+o,v)+d,l=Array(O+2);l[O+1]=(1<<c)-1;for(n=O;n>=x;n-=1)if(f=n-1,w=L[j.charAt(f)],w&&(y[f]=1),l[n]=(l[n+1]<<1|1)&w,0!==c&&(l[n]|=(g[n+1]|g[n])<<1|1|g[n+1]),l[n]&z&&(p=e(i,{errors:c,currentLocation:f,expectedLocation:t,distance:m}))<=r){if(r=p,(a=f)<=t)break;x=Math.max(1,2*t-a)}if(e(i,{errors:c+1,currentLocation:t,expectedLocation:t,distance:m})>r)break;g=l}return{isMatch:a>=0,score:0===p?.001:p,matchedIndices:s(y,R)}}},function(e){e.exports=function(c,e){var n=e.errors,d=void 0===n?0:n,o=e.currentLocation,u=void 0===o?0:o,t=e.expectedLocation,l=void 0===t?0:t,a=e.distance,s=void 0===a?100:a,r=d/c.length,i=Math.abs(l-u);return s?r+i/s:i?1:r}},function(e){e.exports=function(){for(var s,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=[],e=-1,i=-1,t=0,r=n.length;t<r;t+=1)s=n[t],s&&-1===e?e=t:s||-1===e||((i=t-1)-e+1>=a&&o.push([e,i]),e=-1);return n[t-1]&&t-e>=a&&o.push([e,t-1]),o}},function(e){e.exports=function(t){for(var e,n={},s=t.length,o=0;o<s;o+=1)n[t.charAt(o)]=0;for(e=0;e<s;e+=1)n[t.charAt(e)]|=1<<s-e-1;return n}},function(e,s,t){var n=t(0);e.exports=function(e,t){return function c(l,s,o){if(s){{var e,i,d,a=s.indexOf("."),r=s,t=null;if(-1!==a&&(r=s.slice(0,a),t=s.slice(a+1)),e=l[r],null!=e)if(t||"string"!=typeof e&&"number"!=typeof e)if(n(e))for(i=0,d=e.length;i<d;i+=1)c(e[i],t,o);else t&&c(e,t,o);else o.push(e.toString())}}else o.push(l);return o}(e,t,[])}}])}),!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):t.Mark=e(t.jQuery)}(this,function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(s,n){for(var e,t=0;t<n.length;t++)e=n[t],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),a=Object.assign||function(s){for(var e,n,t=1;t<arguments.length;t++){e=arguments[t];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n])}return s},n=function(){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3;s(this,e),this.ctx=t,this.iframes=n,this.exclude=o,this.iframesTimeout=i}return o(e,[{key:"getContexts",value:function(){var e=[];return(void 0!==this.ctx&&this.ctx?NodeList.prototype.isPrototypeOf(this.ctx)?Array.prototype.slice.call(this.ctx):Array.isArray(this.ctx)?this.ctx:"string"==typeof this.ctx?Array.prototype.slice.call(document.querySelectorAll(this.ctx)):[this.ctx]:[]).forEach(function(t){var n=e.filter(function(e){return e.contains(t)}).length>0;-1!==e.indexOf(t)||n||e.push(t)}),e}},{key:"getIframeContents",value:function(n,s){var t,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},e=void 0;try{if(t=n.contentWindow,e=t.document,!t||!e)throw new Error("iframe inaccessible")}catch(e){o()}e&&s(e)}},{key:"isIframeBlank",value:function(e){var t=e.getAttribute("src").trim();return"about:blank"===e.contentWindow.location.href&&"about:blank"!==t&&t}},{key:"observeIframeLoad",value:function(e,a,t){var n=this,s=!1,o=null,i=function i(){if(!s){s=!0,clearTimeout(o);try{n.isIframeBlank(e)||(e.removeEventListener("load",i),n.getIframeContents(e,a,t))}catch(e){t()}}};e.addEventListener("load",i),o=setTimeout(i,this.iframesTimeout)}},{key:"onIframeReady",value:function(e,n,t){try{"complete"===e.contentWindow.document.readyState?this.isIframeBlank(e)?this.observeIframeLoad(e,n,t):this.getIframeContents(e,n,t):this.observeIframeLoad(e,n,t)}catch(e){t()}}},{key:"waitForIframes",value:function(n,e){var s=this,t=0;this.forEachIframe(n,function(){return!0},function(n){t++,s.waitForIframes(n.querySelector("html"),function(){--t||e()})},function(t){t||e()})}},{key:"forEachIframe",value:function(r,c,l){var i=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},n=r.querySelectorAll("iframe"),s=n.length,o=0,n=Array.prototype.slice.call(n),t=function(){--s<=0&&a(o)};s||t(),n.forEach(function(n){e.matches(n,i.exclude)?t():i.onIframeReady(n,function(e){c(n)&&(o++,l(e)),t()},t)})}},{key:"createIterator",value:function(e,t,n){return document.createNodeIterator(e,t,n,!1)}},{key:"createInstanceOnIframe",value:function(t){return new e(t.querySelector("html"),this.iframes)}},{key:"compareNodeIframe",value:function(n,e,t){if(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING){if(null===e)return!0;if(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING)return!0}return!1}},{key:"getIteratorNode",value:function(e){var t=e.previousNode();return{prevNode:t,node:null===t?e.nextNode():e.nextNode()&&e.nextNode()}}},{key:"checkIframeFilter",value:function(o,i,t,n){var e=!1,s=!1;return n.forEach(function(n,o){n.val===t&&(e=o,s=n.handled)}),this.compareNodeIframe(o,i,t)?(!1!==e||s?!1===e||s||(n[e].handled=!0):n.push({val:t,handled:!0}),!0):(!1===e&&n.push({val:t,handled:!1}),!1)}},{key:"handleOpenIframes",value:function(t,n,s,o){var e=this;t.forEach(function(t){t.handled||e.getIframeContents(t.val,function(t){e.createInstanceOnIframe(t).forEachNode(n,s,o)})})}},{key:"iterateThroughNodes",value:function(e,a,r,t,u){for(var s,o=this,d=this.createIterator(a,e,t),c=[],i=[],n=void 0,l=void 0;void 0,s=o.getIteratorNode(d),l=s.prevNode,n=s.node;)this.iframes&&this.forEachIframe(a,function(e){return o.checkIframeFilter(n,l,e,c)},function(n){o.createInstanceOnIframe(n).forEachNode(e,function(e){return i.push(e)},t)}),i.push(n);i.forEach(function(e){r(e)}),this.iframes&&this.handleOpenIframes(c,e,r,t),u()}},{key:"forEachNode",value:function(a,o,i){var e=this,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},s=this.getContexts(),t=s.length;t||n(),s.forEach(function(s){var r=function(){e.iterateThroughNodes(a,s,o,i,function(){--t<=0&&n()})};e.iframes?e.waitForIframes(s,r):r()})}}],[{key:"matches",value:function(e,t){var n,o="string"==typeof t?[t]:t,s=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return!!s&&(n=!1,o.every(function(t){return!s.call(e,t)||(n=!0,!1)}),n)}}]),e}(),t=function(){function e(n){s(this,e),this.ctx=n,this.ie=!1;var t=window.navigator.userAgent;(t.indexOf("MSIE")>-1||t.indexOf("Trident")>-1)&&(this.ie=!0)}return o(e,[{key:"log",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"debug",e=this.opt.log;this.opt.debug&&"object"===(void 0===e?"undefined":i(e))&&"function"==typeof e[t]&&e[t]("mark.js: "+n)}},{key:"escapeStr",value:function(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}},{key:"createRegExp",value:function(e){return"disabled"!==this.opt.wildcards&&(e=this.setupWildcardsRegExp(e)),e=this.escapeStr(e),Object.keys(this.opt.synonyms).length&&(e=this.createSynonymsRegExp(e)),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(e=this.setupIgnoreJoinersRegExp(e)),this.opt.diacritics&&(e=this.createDiacriticsRegExp(e)),e=this.createMergedBlanksRegExp(e),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(e=this.createJoinersRegExp(e)),"disabled"!==this.opt.wildcards&&(e=this.createWildcardsRegExp(e)),e=this.createAccuracyRegExp(e)}},{key:"createSynonymsRegExp",value:function(t){var e,n=this.opt.synonyms,r=this.opt.caseSensitive?"":"i",i=this.opt.ignoreJoiners||this.opt.ignorePunctuation.length?"\0":"";for(e in n)if(n.hasOwnProperty(e)){var a=n[e],s="disabled"!==this.opt.wildcards?this.setupWildcardsRegExp(e):this.escapeStr(e),o="disabled"!==this.opt.wildcards?this.setupWildcardsRegExp(a):this.escapeStr(a);""!==s&&""!==o&&(t=t.replace(new RegExp("("+this.escapeStr(s)+"|"+this.escapeStr(o)+")","gm"+r),i+"("+this.processSynomyms(s)+"|"+this.processSynomyms(o)+")"+i))}return t}},{key:"processSynomyms",value:function(e){return(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(e=this.setupIgnoreJoinersRegExp(e)),e}},{key:"setupWildcardsRegExp",value:function(e){return(e=e.replace(/(?:\\)*\?/g,function(e){return"\\"===e.charAt(0)?"?":""})).replace(/(?:\\)*\*/g,function(e){return"\\"===e.charAt(0)?"*":""})}},{key:"createWildcardsRegExp",value:function(t){var e="withSpaces"===this.opt.wildcards;return t.replace(/\u0001/g,e?"[\\S\\s]?":"\\S?").replace(/\u0002/g,e?"[\\S\\s]*?":"\\S*")}},{key:"setupIgnoreJoinersRegExp",value:function(e){return e.replace(/[^(|)\\]/g,function(e,n,s){var t=s.charAt(n+1);return/[(|)\\]/.test(t)||""===t?e:e+"\0"})}},{key:"createJoinersRegExp",value:function(n){var e=[],t=this.opt.ignorePunctuation;return Array.isArray(t)&&t.length&&e.push(this.escapeStr(t.join(""))),this.opt.ignoreJoiners&&e.push("\\u00ad\\u200b\\u200c\\u200d"),e.length?n.split(/\u0000+/).join("["+e.join("")+"]*"):n}},{key:"createDiacriticsRegExp",value:function(e){var n=this.opt.caseSensitive?"":"i",s=this.opt.caseSensitive?["aàáảãạăằắẳẵặâầấẩẫậäåāą","AÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćč","CÇĆČ","dđď","DĐĎ","eèéẻẽẹêềếểễệëěēę","EÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïī","IÌÍỈĨỊÎÏĪ","lł","LŁ","nñňń","NÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøō","OÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rř","RŘ","sšśșş","SŠŚȘŞ","tťțţ","TŤȚŢ","uùúủũụưừứửữựûüůū","UÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿ","YÝỲỶỸỴŸ","zžżź","ZŽŻŹ"]:["aàáảãạăằắẳẵặâầấẩẫậäåāąAÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ","cçćčCÇĆČ","dđďDĐĎ","eèéẻẽẹêềếểễệëěēęEÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ","iìíỉĩịîïīIÌÍỈĨỊÎÏĪ","lłLŁ","nñňńNÑŇŃ","oòóỏõọôồốổỗộơởỡớờợöøōOÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ","rřRŘ","sšśșşSŠŚȘŞ","tťțţTŤȚŢ","uùúủũụưừứửữựûüůūUÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ","yýỳỷỹỵÿYÝỲỶỸỴŸ","zžżźZŽŻŹ"],t=[];return e.split("").forEach(function(o){s.every(function(s){if(-1!==s.indexOf(o)){if(t.indexOf(s)>-1)return!1;e=e.replace(new RegExp("["+s+"]","gm"+n),"["+s+"]"),t.push(s)}return!0})}),e}},{key:"createMergedBlanksRegExp",value:function(e){return e.replace(/[\s]+/gim,"[\\s]+")}},{key:"createAccuracyRegExp",value:function(n){var s=this,t=this.opt.accuracy,o="string"==typeof t?t:t.value,e="";switch(("string"==typeof t?[]:t.limiters).forEach(function(t){e+="|"+s.escapeStr(t)}),o){case"partially":default:return"()("+n+")";case"complementary":return"()([^"+(e="\\s"+(e||this.escapeStr("!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~¡¿")))+"]*"+n+"[^"+e+"]*)";case"exactly":return"(^|\\s"+e+")("+n+")(?=$|\\s"+e+")"}}},{key:"getSeparatedKeywords",value:function(t){var n=this,e=[];return t.forEach(function(t){n.opt.separateWordSearch?t.split(" ").forEach(function(t){t.trim()&&-1===e.indexOf(t)&&e.push(t)}):t.trim()&&-1===e.indexOf(t)&&e.push(t)}),{keywords:e.sort(function(e,t){return t.length-e.length}),length:e.length}}},{key:"isNumeric",value:function(e){return Number(parseFloat(e))==e}},{key:"checkRanges",value:function(e){if(t=this,!Array.isArray(e)||"[object Object]"!==Object.prototype.toString.call(e[0]))return this.log("markRanges() will only accept an array of objects"),this.opt.noMatch(e),[];var t,n=[],s=0;return e.sort(function(e,t){return e.start-t.start}).forEach(function(e){var o=t.callNoMatchOnInvalidRanges(e,s),i=o.start,a=o.end;o.valid&&(e.start=i,e.length=a-i,n.push(e),s=a)}),n}},{key:"callNoMatchOnInvalidRanges",value:function(e,o){var n=void 0,t=void 0,s=!1;return e&&void 0!==e.start?(t=(n=parseInt(e.start,10))+parseInt(e.length,10),this.isNumeric(e.start)&&this.isNumeric(e.length)&&t-o>0&&t-n>0?s=!0:(this.log("Ignoring invalid or overlapping range: "+JSON.stringify(e)),this.opt.noMatch(e))):(this.log("Ignoring invalid range: "+JSON.stringify(e)),this.opt.noMatch(e)),{start:n,end:t,valid:s}}},{key:"checkWhitespaceRanges",value:function(n,r,i){var s=void 0,o=!0,t=i.length,a=r-t,e=parseInt(n.start,10)-a;return(s=(e=e>t?t:e)+parseInt(n.length,10))>t&&(s=t,this.log("End range automatically set to the max value of "+t)),e<0||s-e<0||e>t||s>t?(o=!1,this.log("Invalid range: "+JSON.stringify(n)),this.opt.noMatch(n)):""===i.substring(e,s).replace(/\s+/g,"")&&(o=!1,this.log("Skipping whitespace only range: "+JSON.stringify(n)),this.opt.noMatch(n)),{start:e,end:s,valid:o}}},{key:"getTextNodes",value:function(n){var s=this,e="",t=[];this.iterator.forEachNode(NodeFilter.SHOW_TEXT,function(n){t.push({start:e.length,end:(e+=n.textContent).length,node:n})},function(e){return s.matchesExclude(e.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},function(){n({value:e,nodes:t})})}},{key:"matchesExclude",value:function(e){return n.matches(e,this.opt.exclude.concat(["script","style","title","head","html"]))}},{key:"wrapRangeInTextNode",value:function(a,n,s){var o=this.opt.element?this.opt.element:"mark",t=a.splitText(n),i=t.splitText(s-n),e=document.createElement(o);return e.setAttribute("data-markjs","true"),this.opt.className&&e.setAttribute("class",this.opt.className),e.textContent=t.textContent,t.parentNode.replaceChild(e,t),i}},{key:"wrapRangeInMappedTextNode",value:function(e,n,t,s,o){var i=this;e.nodes.every(function(a,c){if(l=e.nodes[c+1],void 0===l||l.start>n){if(!s(a.node))return!1;var l,d=n-a.start,r=(t>a.end?a.end:t)-a.start,u=e.value.substr(0,a.start),h=e.value.substr(r+a.start);if(a.node=i.wrapRangeInTextNode(a.node,d,r),e.value=u+h,e.nodes.forEach(function(n,t){t>=c&&(e.nodes[t].start>0&&t!==c&&(e.nodes[t].start-=r),e.nodes[t].end-=r)}),t-=r,o(a.node.previousSibling,a.start),!(t>a.end))return!1;n=a.end}return!0})}},{key:"wrapMatches",value:function(n,t,s,o,i){var a=this,e=0===t?0:t+1;this.getTextNodes(function(t){t.nodes.forEach(function(t){t=t.node;for(var r,c,i=void 0;null!==(i=n.exec(t.textContent))&&""!==i[e];)if(s(i[e],t)){if(r=i.index,0!==e)for(c=1;c<e;c++)r+=i[c].length;t=a.wrapRangeInTextNode(t,r,r+i[e].length),o(t.previousSibling),n.lastIndex=0}}),i()})}},{key:"wrapMatchesAcrossElements",value:function(n,t,s,o,i){var a=this,e=0===t?0:t+1;this.getTextNodes(function(l){for(var r,c,d,t=void 0;null!==(t=n.exec(l.value))&&""!==t[e];){if(r=t.index,0!==e)for(c=1;c<e;c++)r+=t[c].length;d=r+t[e].length,a.wrapRangeInMappedTextNode(l,r,d,function(n){return s(t[e],n)},function(e,t){n.lastIndex=t,o(e)})}i()})}},{key:"wrapRangeFromIndex",value:function(t,n,s,o){var e=this;this.getTextNodes(function(i){var a=i.value.length;t.forEach(function(t,l){var o=e.checkWhitespaceRanges(t,a,i.value),r=o.start,c=o.end;o.valid&&e.wrapRangeInMappedTextNode(i,r,c,function(e){return n(e,t,i.value.substring(r,c),l)},function(e){s(e,t)})}),o()})}},{key:"unwrapMatches",value:function(e){for(var t=e.parentNode,n=document.createDocumentFragment();e.firstChild;)n.appendChild(e.removeChild(e.firstChild));t.replaceChild(n,e),this.ie?this.normalizeTextNode(t):t.normalize()}},{key:"normalizeTextNode",value:function(e){if(e){if(3===e.nodeType)for(;e.nextSibling&&3===e.nextSibling.nodeType;)e.nodeValue+=e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);else this.normalizeTextNode(e.firstChild);this.normalizeTextNode(e.nextSibling)}}},{key:"markRegExp",value:function(n,o){e=this,this.opt=o,this.log('Searching with expression "'+n+'"');var e,t=0,s="wrapMatches";this.opt.acrossElements&&(s="wrapMatchesAcrossElements"),this[s](n,this.opt.ignoreGroups,function(n,s){return e.opt.filter(s,n,t)},function(n){t++,e.opt.each(n)},function(){0===t&&e.opt.noMatch(n),e.opt.done(t)})}},{key:"mark",value:function(s,r){e=this,this.opt=r;var e,n=0,i="wrapMatches",a=this.getSeparatedKeywords("string"==typeof s?[s]:s),t=a.keywords,o=a.length,c=this.opt.caseSensitive?"":"i";this.opt.acrossElements&&(i="wrapMatchesAcrossElements"),0===o?this.opt.done(n):function l(s){var r=new RegExp(e.createRegExp(s),"gm"+c),a=0;e.log('Searching with expression "'+r+'"'),e[i](r,1,function(o,t){return e.opt.filter(t,s,n,a)},function(t){a++,n++,e.opt.each(t)},function(){0===a&&e.opt.noMatch(s),t[o-1]===s?e.opt.done(n):l(t[t.indexOf(s)+1])})}(t[0])}},{key:"markRanges",value:function(s,o){e=this,this.opt=o;var e,n=0,t=this.checkRanges(s);t&&t.length?(this.log("Starting to mark with the following ranges: "+JSON.stringify(t)),this.wrapRangeFromIndex(t,function(t,n,s,o){return e.opt.filter(t,n,s,o)},function(t,s){n++,e.opt.each(t,s)},function(){e.opt.done(n)})):this.opt.done(n)}},{key:"unmark",value:function(s){var e,t=this;this.opt=s,e=this.opt.element?this.opt.element:"*",e+="[data-markjs]",this.opt.className&&(e+="."+this.opt.className),this.log('Removal selector "'+e+'"'),this.iterator.forEachNode(NodeFilter.SHOW_ELEMENT,function(e){t.unwrapMatches(e)},function(s){var o=n.matches(s,e),i=t.matchesExclude(s);return!o||i?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},this.opt.done)}},{key:"opt",set:function(e){this._opt=a({},{element:"",className:"",exclude:[],iframes:!1,iframesTimeout:5e3,separateWordSearch:!0,diacritics:!0,synonyms:{},accuracy:"partially",acrossElements:!1,caseSensitive:!1,ignoreJoiners:!1,ignoreGroups:0,ignorePunctuation:[],wildcards:"disabled",each:function(){},noMatch:function(){},filter:function(){return!0},done:function(){},debug:!1,log:window.console},e)},get:function(){return this._opt}},{key:"iterator",get:function(){return new n(this.ctx,this.opt.iframes,this.opt.exclude,this.opt.iframesTimeout)}}]),e}();return e.fn.mark=function(e,n){return new t(this.get()).mark(e,n),this},e.fn.markRegExp=function(e,n){return new t(this.get()).markRegExp(e,n),this},e.fn.markRanges=function(e,n){return new t(this.get()).markRanges(e,n),this},e.fn.unmark=function(e){return new t(this.get()).unmark(e),this},e}),summaryInclude=60;var fuseOptions={shouldSort:!0,includeMatches:!0,threshold:0,tokenize:!0,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:[{name:"title",weight:.8},{name:"contents",weight:.5},{name:"tags",weight:.3},{name:"categories",weight:.3}]},searchQuery=param("s");searchQuery&&($("#search-query").val(searchQuery),executeSearch(searchQuery));function executeSearch(e){$.getJSON(indexURL,function(n){var s=n,o=new Fuse(s,fuseOptions),t=o.search(e);console.log({matches:t}),t.length>0?populateResults(t):$('#search-results').append("<div class='has-text-align-center' style='font-size:2.6rem; padding-top:8rem;'>We could not find any results for your search.</div>")})}function populateResults(e){$.each(e,function(o,e){var i,a,t=e.item.contents,n="",s=[],r=[];fuseOptions.tokenize?s.push(searchQuery):$.each(e.matches,function(o,e){e.key=="tags"||e.key=="categories"?s.push(e.value):e.key=="contents"&&(start=e.indices[0][0]-summaryInclude>0?e.indices[0][0]-summaryInclude:0,end=e.indices[0][1]+summaryInclude<t.length?e.indices[0][1]+summaryInclude:t.length,n+=t.substring(start,end),s.push(e.value.substring(e.indices[0][0],e.indices[0][1]-e.indices[0][0]+1)))}),n.length<1&&(n+=t.substring(0,summaryInclude*2)),i=$('#search-result-template').html(),a=render(i,{key:o,title:e.item.title,link:e.item.permalink,tags:e.item.tags,categories:e.item.categories,snippet:n}),$('#search-results').append(a),$.each(s,function(t,e){$("#summary-"+o).mark(e)})})}function param(e){return decodeURIComponent((location.search.split(e+'=')[1]||'').split('&')[0]).replace(/\+/g,' ')}function render(e,s){i=/\$\{\s*isset ([a-zA-Z]*) \s*\}(.*)\$\{\s*end\s*}/g,t=e;for(var t,n,o,i,a,r;(n=i.exec(e))!==null;)s[n[1]]?t=t.replace(n[0],n[2]):t=t.replace(n[0],'');e=t;for(o in s)a='\\$\\{\\s*'+o+'\\s*\\}',r=new RegExp(a,'g'),e=e.replace(r,s[o]);return e}